---
import Layout from "@/layouts/Layout.astro";

import HeroKeyLogo from "@/assets/hero-key-logo.webp";
import HeroKeyBackground from "@/assets/hero-key-background.webp";
import LogoVI from "@/assets/logo-vi.svg";
import PlayButtonIcon from "@/assets/play-button.svg";
import PlayOverlayIcon from "@/assets/play-whitoutbg.svg";
import LogoCutted from "@/assets/logo-cutted.svg";
import LogoMenu from "@/assets/logo-menu.svg";

// Importar imágenes de personajes
import JasonImg from "@/assets/jason.webp";
import LuciaImg from "@/assets/lucia.webp";
import CalImg from "@/assets/cal.webp";
import BoobieImg from "@/assets/boobie.webp";
import DrequanImg from "@/assets/drequan.webp";
import DimezImg from "@/assets/dimez.webp";
import RaulImg from "@/assets/raul.webp";
import BrianImg from "@/assets/brian.webp";

// Importar imágenes de lugares
import ViceCityImg from "@/assets/vice-city.webp";
import PortGellhornImg from "@/assets/port-gellhorn.webp";
import LeonidaKeysImg from "@/assets/leonida-keys.webp";
import GrassRiversImg from "@/assets/grassrivers.webp";
import KalagaImg from "@/assets/kalaga.webp";
import AmbrosiaImg from "@/assets/ambrosia.webp";
---

<Layout>
	<div id="logo-mask" class="fixed top-0 w-full h-screen">
		<section>
			<picture
				id="hero-key"
				class="h-screen scale-125 block overflow-hidden fixed"
			>
				<img
					id="hero-key-logo"
					src={HeroKeyLogo.src}
					class="absolute w-full h-full object-cover"
					alt="GTA VI Key Logo"
				/>
				<img
					id="hero-key-background"
					src={HeroKeyBackground.src}
					class="w-full h-full object-cover"
					alt="GTA VI Key Background"
				/>
			</picture>
		</section>
	</div>

	<div
		class="fixed flex flex-col items-center justify-between h-screen px-20 py-16 w-full z-30"
	>
		<header class="flex justify-between w-full">
			<a href="/" aria-label="Ir a inicio">
				<LogoVI
					class="size-11 text-white hover:text-yellow-100 transition-colors duration-500 cursor-pointer"
				/>
			</a>
			<button
				id="menu-toggle"
				class="flex items-center justify-center group hover:cursor-pointer relative w-12 h-12 transition-all duration-300 before:absolute before:inset-0 before:rounded-full before:transition-all before:duration-300 z-[100]"
				aria-label="Abrir menú"
			>
				<div class="relative w-7 h-7 flex items-center justify-center">
					<span
						id="menu-line-1"
						class="w-7 h-1.5 bg-white group-hover:bg-yellow-100 transition-all duration-500 absolute"
					></span>
					<span
						id="menu-line-2"
						class="w-7 h-1.5 bg-white group-hover:bg-yellow-100 transition-all duration-500 absolute"
					></span>
				</div>
			</button>
		</header>

		<button class="inset-0 m-auto inline-block">
			<PlayButtonIcon
				id="hero-play-button"
				class="text-white m-auto size-28 mt-10 backdrop-blur-3xl rounded-full hover:scale-110 transition-transform duration-500 cursor-pointer"
			/>
		</button>

		<footer id="hero-footer" class="absolute bottom-8 m-auto">
			<LogoCutted
				class="text-white w-38 drop-shadow-[0_0_2px_rgba(255,255,255,.5),0_0_8px_#000]"
			/>
			<span
				class="absolute uppercase tracking-[6px] whitespace-nowrap text-center top-[51px] font-bold text-shadow-[0_0_2px_rgba(255,255,255,.5),0_0_8px_#000] left-1/2 -translate-x-1/2"
				>Ver el tráiler 2</span
			>
		</footer>
	</div>

	<!-- Menú desplegable -->
	<div
		id="menu-overlay"
		class="fixed inset-0 bg-black/50 backdrop-blur-sm opacity-0 pointer-events-none transition-opacity duration-500 z-40"
	>
	</div>

	<!-- Logo VI grande (izquierda del menú) -->
	<div
		id="menu-logo-container"
		class="fixed top-0 left-0 h-screen w-1/2 opacity-0 pointer-events-none transition-opacity duration-700 z-45 flex items-center justify-center"
	>
		<div class="relative w-full h-full">
			<!-- Imagen de fondo (se cambiará según la sección activa) -->
			<img
				id="menu-bg-image"
				src="/menu-bg.jpg"
				alt=""
				class="absolute inset-0 w-full h-full object-cover"
			/>
			<!-- Overlay oscuro -->
			<div class="absolute inset-0 bg-black/40"></div>
			<!-- Logo VI -->
			<div class="absolute inset-0 flex items-center justify-center">
				<div class="relative">
					<LogoVI class="text-white w-96 drop-shadow-2xl" />
					<span
						class="absolute top-0 right-0 text-white text-xs font-bold translate-x-4 -translate-y-2"
						>TM</span
					>
				</div>
			</div>
		</div>
	</div>

	<!-- Botón de cerrar independiente (cruz) -->
	<button
		id="menu-close"
		class="fixed top-16 right-20 w-12 h-12 flex items-center justify-center opacity-0 pointer-events-none transition-opacity duration-300 z-[100] bg-white/20 hover:bg-white/30 rounded-full group cursor-pointer"
	>
		<div class="relative w-5 h-5 flex items-center justify-center">
			<span
				class="w-4 h-1 bg-white group-hover:bg-yellow-100 transition-all duration-300 absolute rotate-45"
			></span>
			<span
				class="w-4 h-1 bg-white group-hover:bg-yellow-100 transition-all duration-300 absolute -rotate-45"
			></span>
		</div>
	</button>

	<nav
		id="menu-panel"
		class="fixed top-0 right-0 h-screen w-full translate-x-full transition-transform duration-700 ease-in-out z-50 flex"
	>
		<!-- Logo VI grande con imagen de fondo (mitad izquierda del panel) -->
		<div class="w-1/2 relative overflow-hidden">
			<!-- Fondo con degradado azul a rosa oscuro -->
			<div
				class="absolute inset-0"
				style="background: linear-gradient(135deg, #286074 0%, #296175 9%, #316376 18%, #3c6679 27%, #47687b 36%, #566779 45%, #5a5f6d 54%, #585362 63%, #554757 72%, #52404f 81%, #523c47 90%, #523c47 100%)"
			>
			</div>

			<!-- Contenedor para las imágenes -->
			<div class="absolute inset-0">
				<!-- Imágenes de personajes -->
				<img
					id="menu-image-jason"
					src={JasonImg.src}
					alt="Jason Duval"
					class="absolute inset-0 w-full h-full object-cover opacity-0 transition-opacity duration-500"
				/>
				<img
					id="menu-image-lucia"
					src={LuciaImg.src}
					alt="Lucia Caminos"
					class="absolute inset-0 w-full h-full object-cover opacity-0 transition-opacity duration-500"
				/>
				<img
					id="menu-image-cal"
					src={CalImg.src}
					alt="Cal Hampton"
					class="absolute inset-0 w-full h-full object-cover opacity-0 transition-opacity duration-500"
				/>
				<img
					id="menu-image-boobie"
					src={BoobieImg.src}
					alt="Boobie Ike"
					class="absolute inset-0 w-full h-full object-cover opacity-0 transition-opacity duration-500"
				/>
				<img
					id="menu-image-drequan"
					src={DrequanImg.src}
					alt="Dre'Quan Priest"
					class="absolute inset-0 w-full h-full object-cover opacity-0 transition-opacity duration-500"
				/>
				<img
					id="menu-image-dimez"
					src={DimezImg.src}
					alt="Real Dimez"
					class="absolute inset-0 w-full h-full object-cover opacity-0 transition-opacity duration-500"
				/>
				<img
					id="menu-image-raul"
					src={RaulImg.src}
					alt="Raul Bautista"
					class="absolute inset-0 w-full h-full object-cover opacity-0 transition-opacity duration-500"
				/>
				<img
					id="menu-image-brian"
					src={BrianImg.src}
					alt="Brian Heder"
					class="absolute inset-0 w-full h-full object-cover opacity-0 transition-opacity duration-500"
				/>

				<!-- Imágenes de lugares -->
				<img
					id="menu-image-vice-city"
					src={ViceCityImg.src}
					alt="Vice City"
					class="absolute inset-0 w-full h-full object-cover opacity-0 transition-opacity duration-500"
				/>
				<img
					id="menu-image-port-gellhorn"
					src={PortGellhornImg.src}
					alt="Port Gellhorn"
					class="absolute inset-0 w-full h-full object-cover opacity-0 transition-opacity duration-500"
				/>
				<img
					id="menu-image-leonida-keys"
					src={LeonidaKeysImg.src}
					alt="Leonida Keys"
					class="absolute inset-0 w-full h-full object-cover opacity-0 transition-opacity duration-500"
				/>
				<img
					id="menu-image-grassrivers"
					src={GrassRiversImg.src}
					alt="Grass Rivers"
					class="absolute inset-0 w-full h-full object-cover opacity-0 transition-opacity duration-500"
				/>
				<img
					id="menu-image-kalaga"
					src={KalagaImg.src}
					alt="Kalaga"
					class="absolute inset-0 w-full h-full object-cover opacity-0 transition-opacity duration-500"
				/>
				<img
					id="menu-image-ambrosia"
					src={AmbrosiaImg.src}
					alt="Ambrosia"
					class="absolute inset-0 w-full h-full object-cover opacity-0 transition-opacity duration-500"
				/>
			</div>

			<!-- Logo VI SVG (por defecto) -->
			<div
				id="menu-logo"
				class="absolute inset-0 flex items-center justify-center transition-opacity duration-500"
			>
				<LogoMenu
					class="text-white w-full max-w-[380px] px-12"
					style="filter: drop-shadow(0 0 40px rgba(255,255,255,0.4)) drop-shadow(0 0 150px rgba(255,255,255,0.1));"
				/>
			</div>
		</div>

		<!-- Contenido del menú (mitad derecha del panel) -->
		<div
			class="w-1/2 px-12 pt-16 pb-8 flex flex-col"
			style="background: linear-gradient(223.17deg, #1b1828 0%, #191725 20%, #161520 40%, #15141f 60%, #13131a 80%, #111117 100%)"
		>
			<!-- Nav principal horizontal -->
			<ul class="flex gap-0 mb-12">
				<li>
					<button
						data-section="personajes"
						class="menu-main-item px-5 py-3 text-white hover:text-yellow-100 transition-all duration-300 cursor-pointer rounded-full font-semibold"
					>
						Personajes
					</button>
				</li>
				<li>
					<button
						data-section="lugares"
						class="menu-main-item px-5 py-3 text-white hover:text-yellow-100 transition-all duration-300 cursor-pointer rounded-full font-semibold"
					>
						Lugares
					</button>
				</li>
				<li>
					<button
						data-section="traileres"
						class="menu-main-item px-5 py-3 text-white hover:text-yellow-100 transition-all duration-300 cursor-pointer rounded-full font-semibold"
					>
						Tráilers
					</button>
				</li>
				<li>
					<button
						data-section="descargas"
						class="menu-main-item px-5 py-3 text-white hover:text-yellow-100 transition-all duration-300 cursor-pointer rounded-full font-semibold"
					>
						Descargas
					</button>
				</li>
			</ul>

			<!-- Contenedor centrado para el contenido dinámico -->
			<div class="flex-1 flex items-center overflow-y-auto">
				<div id="content-personajes" class="menu-content hidden">
					<ul class="flex flex-col gap-2">
						<li>
							<a
								href="#"
								data-character="jason"
								class="character-link text-white hover:text-yellow-100 transition-colors duration-300 font-bold uppercase text-6xl font-narrow"
								>Jason Duval</a
							>
						</li>
						<li>
							<a
								href="#"
								data-character="lucia"
								class="character-link text-white hover:text-yellow-100 transition-colors duration-300 font-bold uppercase text-6xl font-narrow"
								>Lucia Caminos</a
							>
						</li>
						<li>
							<a
								href="#"
								data-character="cal"
								class="character-link text-white hover:text-yellow-100 transition-colors duration-300 font-bold uppercase text-6xl font-narrow"
								>Cal Hampton</a
							>
						</li>
						<li>
							<a
								href="#"
								data-character="boobie"
								class="character-link text-white hover:text-yellow-100 transition-colors duration-300 font-bold uppercase text-6xl font-narrow"
								>Boobie Ike</a
							>
						</li>
						<li>
							<a
								href="#"
								data-character="drequan"
								class="character-link text-white hover:text-yellow-100 transition-colors duration-300 font-bold uppercase text-6xl font-narrow"
								>Dre'Quan Priest</a
							>
						</li>
						<li>
							<a
								href="#"
								data-character="dimez"
								class="character-link text-white hover:text-yellow-100 transition-colors duration-300 font-bold uppercase text-6xl font-narrow"
								>Real Dimez</a
							>
						</li>
						<li>
							<a
								href="#"
								data-character="raul"
								class="character-link text-white hover:text-yellow-100 transition-colors duration-300 font-bold uppercase text-6xl font-narrow"
								>Raul Bautista</a
							>
						</li>
						<li>
							<a
								href="#"
								data-character="brian"
								class="character-link text-white hover:text-yellow-100 transition-colors duration-300 font-bold uppercase text-6xl font-narrow"
								>Brian Heder</a
							>
						</li>
					</ul>
				</div>

				<!-- Nav secundario - Lugares -->
				<div id="content-lugares" class="menu-content hidden">
					<ul class="flex flex-col gap-2">
						<li>
							<a
								href="#"
								data-character="vice-city"
								class="character-link text-white hover:text-yellow-100 transition-colors duration-300 font-bold uppercase text-6xl font-narrow"
								>Vice City</a
							>
						</li>
						<li>
							<a
								href="#"
								data-character="leonida-keys"
								class="character-link text-white hover:text-yellow-100 transition-colors duration-300 font-bold uppercase text-6xl font-narrow"
								>Cayos de Leonida</a
							>
						</li>
						<li>
							<a
								href="#"
								data-character="grassrivers"
								class="character-link text-white hover:text-yellow-100 transition-colors duration-300 font-bold uppercase text-6xl font-narrow"
								>Grassrivers</a
							>
						</li>
						<li>
							<a
								href="#"
								data-character="port-gellhorn"
								class="character-link text-white hover:text-yellow-100 transition-colors duration-300 font-bold uppercase text-6xl font-narrow"
								>Port Gellhorn</a
							>
						</li>
						<li>
							<a
								href="#"
								data-character="ambrosia"
								class="character-link text-white hover:text-yellow-100 transition-colors duration-300 font-bold uppercase text-6xl font-narrow"
								>Ambrosia</a
							>
						</li>
						<li>
							<a
								href="#"
								data-character="kalaga"
								class="character-link text-white hover:text-yellow-100 transition-colors duration-300 font-bold uppercase text-6xl font-narrow"
								>Monte Kalaga</a
							>
						</li>
					</ul>
				</div>

				<!-- Nav secundario - Tráilers -->
				<div id="content-traileres" class="menu-content hidden w-full">
					<div class="flex flex-col gap-4">
						<!-- Card Tráiler 2 -->
						<a
							href="#"
							class="flex gap-4 block bg-[#232329] transition-all duration-300 bg-red hover:bg-[#29292e]"
						>
							<div class="w-1/2 relative">
								<img
									src="/src/assets/t2.webp"
									alt="Trailer 2"
								/>
								<!-- Play overlay -->
								<span
									class="absolute inset-0 flex items-center justify-center pointer-events-none"
								>
									<span
										class="inline-flex items-center justify-center rounded-full p-4 bg-black/30 backdrop-blur-md"
									>
										<PlayOverlayIcon
											class="size-4 text-white"
										/>
									</span>
								</span>
								<span
									class="absolute bottom-2 left-2 px-2 py-0.5 bg-[#232329]/70 text-md font-narrow font-semibold text-white"
									>2:47</span
								>
							</div>

							<div
								class="w-1/2 flex flex-col justify-center items-start gap-2"
							>
								<span
									class="text-md w-fit font-narrow uppercase text-black px-2 bg-yellow-100"
									>Nuevo</span
								>
								<h4 class="text-white text-md font-semibold">
									Grand Theft Auto VI - Tráiler 2
								</h4>
								<p class="text-md text-white/60">
									6 de mayo de 2025
								</p>
							</div>
						</a>

						<!-- Card Tráiler 1 -->
						<a
							href="#"
							class="flex gap-4 block bg-[#232329] transition-all duration-300 bg-red hover:bg-[#29292e]"
						>
							<div class="w-1/2 relative">
								<img
									src="/src/assets/t1.webp"
									alt="Trailer 2"
								/>
								<!-- Play overlay -->
								<span
									class="absolute inset-0 flex items-center justify-center pointer-events-none"
								>
									<span
										class="inline-flex items-center justify-center rounded-full p-4 bg-black/30 backdrop-blur-md"
									>
										<PlayOverlayIcon
											class="size-4 text-white"
										/>
									</span>
								</span>
								<span
									class="absolute bottom-2 left-2 px-2 py-0.5 bg-[#232329]/70 text-md font-narrow font-semibold text-white"
									>1:31</span
								>
							</div>

							<div
								class="w-1/2 flex flex-col justify-center items-start gap-2"
							>
								<h4 class="text-white text-md font-semibold">
									Grand Theft Auto VI - Tráiler 1
								</h4>
								<p class="text-md text-white/60">
									4 de diciembre de 2023
								</p>
							</div>
						</a>
					</div>
				</div>

				<!-- Nav secundario - Descargas -->
				<div id="content-descargas" class="menu-content hidden w-full">
					<h3 class="text-lg
					font-semibold
					text-yellow-100
					mb-4">
						Descargas
					</h3>
					<div class="flex flex-col gap-4">
						<!-- Card Vídeos -->
						<a
							href="#"
							class="block p-6 bg-white/5 hover:bg-white/10 rounded-lg transition-all duration-300 border border-white/10 hover:border-yellow-100/30"
						>
							<h4 class="text-white font-semibold text-lg">
								Vídeos
							</h4>
						</a>

						<!-- Card Capturas -->
						<a
							href="#"
							class="block p-6 bg-white/5 hover:bg-white/10 rounded-lg transition-all duration-300 border border-white/10 hover:border-yellow-100/30"
						>
							<h4 class="text-white font-semibold text-lg">
								Capturas de pantalla
							</h4>
						</a>

						<!-- Card Arte -->
						<a
							href="#"
							class="block p-6 bg-white/5 hover:bg-white/10 rounded-lg transition-all duration-300 border border-white/10 hover:border-yellow-100/30"
						>
							<h4 class="text-white font-semibold text-lg">
								Arte y fondos de pantalla
							</h4>
						</a>

						<!-- Botón ver todas -->
						<button
							class="mt-2 w-full py-3 bg-white/10 hover:bg-white/20 rounded-lg text-white font-semibold transition-all duration-300 border border-white/20 hover:border-yellow-100/50"
						>
							Ver todas las descargas
						</button>
					</div>
				</div>
			</div>

			<!-- Footer del menú -->
			<footer class="mt-8 pt-6 flex justify-between items-center">
				<button
					class="flex items-center gap-3 text-white hover:text-white/70 transition-colors duration-300 font-semibold cursor-pointer"
				>
					<!-- SVG del globo -->
					<svg
						class="size-4"
						viewBox="0 0 24 24"
						fill="none"
						xmlns="http://www.w3.org/2000/svg"
					>
						<!-- Aquí irá tu SVG -->
						<circle
							cx="12"
							cy="12"
							r="10"
							stroke="currentColor"
							stroke-width="2"></circle>
						<path
							d="M2 12h20M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"
							stroke="currentColor"
							stroke-width="2"></path>
					</svg>
					<span>Español</span>
					<!-- Flecha hacia arriba -->
					<svg
						class="size-4"
						viewBox="0 0 24 24"
						fill="none"
						xmlns="http://www.w3.org/2000/svg"
					>
						<path
							d="M18 15l-6-6-6 6"
							stroke="currentColor"
							stroke-width="2"
							stroke-linecap="round"
							stroke-linejoin="round"></path>
					</svg>
				</button>
				<button
					class="flex items-center gap-3 text-white hover:text-white/70 transition-colors duration-300 font-semibold cursor-pointer"
				>
					<span>Movimiento</span>
					<!-- Flecha hacia arriba -->
					<svg
						class="size-4"
						viewBox="0 0 24 24"
						fill="none"
						xmlns="http://www.w3.org/2000/svg"
					>
						<path
							d="M18 15l-6-6-6 6"
							stroke="currentColor"
							stroke-width="2"
							stroke-linecap="round"
							stroke-linejoin="round"></path>
					</svg>
				</button>
			</footer>
		</div>
	</nav>

	<style>
		#logo-mask {
			background: white;
			mask-image: url("/logo-stack.svg");
			mask-position: center 25%;
			mask-repeat: no-repeat;
			mask-size: clamp(5000vh, 3500%, 0vh);
		}
	</style>

	<style>
		#menu-toggle.menu-open::before {
			content: "";
			background-color: rgba(255, 255, 255, 0.2);
		}

		#menu-toggle.menu-open:hover::before {
			background-color: rgba(255, 255, 255, 0.3);
		}

		/* Estado hamburguesa - líneas separadas */
		#menu-line-1 {
			transform: translateY(-6px);
		}

		#menu-line-2 {
			transform: translateY(6px);
		}

		/* Estado cruz - líneas centradas y rotadas */
		#menu-toggle.menu-open #menu-line-1 {
			transform: translateY(0) rotate(45deg);
			width: 1.25rem; /* 20px - más pequeña que los 28px originales */
			height: 0.25rem; /* 4px - grosor intermedio */
		}

		#menu-toggle.menu-open #menu-line-2 {
			transform: translateY(0) rotate(-45deg);
			width: 1.25rem; /* 20px - más pequeña que los 28px originales */
			height: 0.25rem; /* 4px - grosor intermedio */
		}

		/* Estilo para botón activo del menú */
		.menu-main-item.active {
			background-color: white;
			color: #111;
			border-radius: 9999px;
		}
	</style>

	<script>
		import { gsap } from "gsap";
		import { ScrollTrigger } from "gsap/ScrollTrigger";

		gsap.registerPlugin(ScrollTrigger);

		const tl = gsap.timeline({
			ease: "power2.out",
			scrollTrigger: {
				scrub: 1,
			},
		});

		tl.to("#hero-key", { duration: 1, scale: 1 })
			.to(
				"#hero-key-logo",
				{
					opacity: 0,
				},
				"<",
			)
			.to(
				"#hero-play-button",
				{
					opacity: 0,
				},
				"<",
			)
			.to(
				"#hero-footer",
				{
					opacity: 0,
				},
				"<",
			)
			.to(
				"#logo-mask",
				{
					maskSize: "clamp(20vh, 25%, 30vh)",
				},
				0.15,
			)
			.to(
				"#hero-key",
				{
					opacity: 0,
					duration: 0.2,
				},
				0.4,
			);

		// Menú hamburguesa
		const menuToggle = document.getElementById("menu-toggle");
		const menuClose = document.getElementById("menu-close");
		const menuPanel = document.getElementById("menu-panel");
		const menuOverlay = document.getElementById("menu-overlay");
		const menuMainItems = document.querySelectorAll(".menu-main-item");
		const menuContents = document.querySelectorAll(".menu-content");

		let isMenuOpen = false;

		// Abrir menú
		menuToggle?.addEventListener("click", () => {
			isMenuOpen = true;
			menuPanel?.classList.remove("translate-x-full");
			menuOverlay?.classList.remove("opacity-0", "pointer-events-none");
			menuOverlay?.classList.add("opacity-100");

			// Animar botón hamburguesa a cruz
			menuToggle?.classList.add("menu-open");

			// Mostrar cruz de cerrar independiente
			menuClose?.classList.remove("opacity-0", "pointer-events-none");
			menuClose?.classList.add("opacity-100");

			// Mostrar primera sección por defecto
			if (!document.querySelector(".menu-content:not(.hidden)")) {
				document
					.getElementById("content-personajes")
					?.classList.remove("hidden");
				document
					.querySelector('[data-section="personajes"]')
					?.classList.add("active");
			}
		});

		// Cerrar menú
		const closeMenu = () => {
			isMenuOpen = false;
			menuPanel?.classList.add("translate-x-full");
			menuOverlay?.classList.add("opacity-0", "pointer-events-none");
			menuOverlay?.classList.remove("opacity-100");

			// Volver hamburguesa
			menuToggle?.classList.remove("menu-open");

			// Ocultar cruz de cerrar independiente
			menuClose?.classList.add("opacity-0", "pointer-events-none");
			menuClose?.classList.remove("opacity-100");
		};

		// Cerrar con botón cruz
		menuClose?.addEventListener("click", closeMenu);

		// Cerrar al hacer clic en overlay
		menuOverlay?.addEventListener("click", closeMenu);

		// Navegación entre secciones
		menuMainItems.forEach((item) => {
			item.addEventListener("click", () => {
				const section = item.getAttribute("data-section");

				// Quitar clase active de todos los botones
				menuMainItems.forEach((btn) => {
					btn.classList.remove("active");
				});

				// Agregar clase active al botón clickeado
				item.classList.add("active");

				// Ocultar todas las secciones
				menuContents.forEach((content) => {
					content.classList.add("hidden");
				});

				// Mostrar sección seleccionada
				if (section) {
					document
						.getElementById(`content-${section}`)
						?.classList.remove("hidden");
				}
			});
		});

		// Hover en personajes para mostrar imágenes
		const characterLinks = document.querySelectorAll(".character-link");
		const menuLogo = document.getElementById("menu-logo");
		const characterImages = document.querySelectorAll(
			"[id^='menu-image-']",
		);

		characterLinks.forEach((link) => {
			link.addEventListener("mouseenter", () => {
				const character = link.getAttribute("data-character");
				if (character) {
					// Ocultar el logo
					menuLogo?.classList.add("opacity-0");

					// Ocultar todas las imágenes
					characterImages.forEach((img) => {
						img.classList.remove("opacity-100");
						img.classList.add("opacity-0");
					});

					// Mostrar la imagen del personaje
					const characterImage = document.getElementById(
						`menu-image-${character}`,
					);
					if (characterImage) {
						characterImage.classList.remove("opacity-0");
						characterImage.classList.add("opacity-100");
					}
				}
			});

			link.addEventListener("mouseleave", () => {
				// Mostrar el logo de nuevo
				menuLogo?.classList.remove("opacity-0");

				// Ocultar todas las imágenes
				characterImages.forEach((img) => {
					img.classList.remove("opacity-100");
					img.classList.add("opacity-0");
				});
			});
		});
	</script>
</Layout>
